local NoxLib = {}
NoxLib.__index = NoxLib

local GUI = Instance.new("ScreenGui")
local Container = Instance.new("Frame")
local TabFrame = Instance.new("Frame")
local gl1 = Instance.new("UIGridLayout")
local HolderTabs = Instance.new("Frame")
local grd8 = Instance.new("UIGridLayout")
local title = Instance.new("TextLabel")

local originalTitle = "Made by RealN0xz (N0x) Version. 2.1"

function NoxLib.new()
    local self = setmetatable({}, NoxLib)
    
    self.GUI = Instance.new("ScreenGui")
    self.GUI.Name = "GUI"
    self.GUI.Parent = game.Players.LocalPlayer:WaitForChild("PlayerGui")
    self.GUI.ZIndexBehavior = Enum.ZIndexBehavior.Sibling

    self.Container = Instance.new("Frame")
    self.Container.Name = "Container"
    self.Container.Parent = self.GUI
    self.Container.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
    self.Container.BorderColor3 = Color3.fromRGB(0, 0, 0)
    self.Container.BorderSizePixel = 0
    self.Container.Position = UDim2.new(0.288541675, 0, 0.443324059, 0)
    self.Container.Size = UDim2.new(0, 401, 0, 22)

    title.Name = "title"
    title.Parent = self.Container
    title.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
    title.BackgroundTransparency = 1.000
    title.BorderColor3 = Color3.fromRGB(0, 0, 0)
    title.BorderSizePixel = 0
    title.Position = UDim2.new(0, 0, 6.93581342e-07, 0)
    title.Size = UDim2.new(0, 401, 0, 21)
    title.Font = Enum.Font.SourceSans
    title.Text = originalTitle
    title.TextColor3 = Color3.fromRGB(218, 218, 218)
    title.TextSize = 25.000
    title.TextWrapped = true
    title.TextXAlignment = Enum.TextXAlignment.Left

    self.TabFrame = Instance.new("Frame")
    self.TabFrame.Parent = self.Container
    self.TabFrame.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
    self.TabFrame.BackgroundTransparency = 1.000
    self.TabFrame.BorderColor3 = Color3.fromRGB(0, 0, 0)
    self.TabFrame.BorderSizePixel = 0
    self.TabFrame.Position = UDim2.new(0.0174563583, 0, 0.0286885239, 0)
    self.TabFrame.Size = UDim2.new(0, 387, 0, 203)
    
    self.gl1 = Instance.new("UIGridLayout")
    self.gl1.Name = "gl1"
    self.gl1.Parent = self.TabFrame
    self.gl1.SortOrder = Enum.SortOrder.LayoutOrder
    self.gl1.CellPadding = UDim2.new(0, 5, 0, 6)
    self.gl1.CellSize = UDim2.new(0, 93, 0, 20)
    
    self.HolderTabs = Instance.new("Frame")
    self.HolderTabs.Name = "HolderTabs"
    self.HolderTabs.Parent = self.Container
    self.HolderTabs.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
    self.HolderTabs.BorderColor3 = Color3.fromRGB(0, 0, 0)
    self.HolderTabs.BorderSizePixel = 0
    self.HolderTabs.Position = UDim2.new(0, 0, 0, 220)
    self.HolderTabs.Size = UDim2.new(0, 401, 0, 24)

    self.grd8 = Instance.new("UIGridLayout")
    self.grd8.Name = "grd8"
    self.grd8.Parent = self.HolderTabs
    self.grd8.SortOrder = Enum.SortOrder.LayoutOrder
    self.grd8.CellPadding = UDim2.new(0, 0, 0, 0)
    self.grd8.CellSize = UDim2.new(0, 80, 0, 23)

    self:EnableDrag(self.Container)

    return self
end

function NoxLib:EnableDrag(frame)
    local dragging = false
    local dragInput, mousePos, framePos

    frame.InputBegan:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 then
            dragging = true
            dragInput = input
            mousePos = input.Position
            framePos = frame.Position
        end
    end)

    frame.InputChanged:Connect(function(input)
        if dragging and input == dragInput then
            local delta = input.Position - mousePos
            frame.Position = UDim2.new(framePos.X.Scale, framePos.X.Offset + delta.X, framePos.Y.Scale, framePos.Y.Offset + delta.Y)
        end
    end)

    frame.InputEnded:Connect(function(input)
        if input == dragInput then
            dragging = false
        end
    end)
end

function NoxLib:AddTab(name)
    local Tab = Instance.new("TextButton")
    Tab.Name = name
    Tab.Parent = self.HolderTabs
    Tab.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
    Tab.BorderColor3 = Color3.fromRGB(0, 0, 0)
    Tab.BorderSizePixel = 0
    Tab.Size = UDim2.new(0, 80, 0, 23)
    Tab.Font = Enum.Font.SourceSans
    Tab.Text = name
    Tab.TextColor3 = Color3.fromRGB(255, 255, 255)
    Tab.TextScaled = true
    Tab.TextSize = 14.000
    Tab.TextWrapped = true

    Tab.MouseEnter:Connect(function()
        title.Text = "Hi" .. name
        title:TweenPosition(UDim2.new(0, 0, 0, -25), "Out", "Quad", 0.5, true)
    end)

    Tab.MouseLeave:Connect(function()
        title.Text = originalTitle
        title:TweenPosition(UDim2.new(0, 0, 0, 0), "Out", "Quad", 0.5, true)
    end)
end

function NoxLib:AddToggle(name, hoverText, callback)
    local Toggle = Instance.new("TextButton")
    Toggle.Name = name
    Toggle.Parent = self.TabFrame
    Toggle.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
    Toggle.BorderColor3 = Color3.fromRGB(0, 0, 0)
    Toggle.BorderSizePixel = 0
    Toggle.Size = UDim2.new(0, 93, 0, 20)
    Toggle.Font = Enum.Font.SourceSans
    Toggle.Text = name
    Toggle.TextColor3 = Color3.fromRGB(255, 255, 255)
    Toggle.TextScaled = true
    Toggle.TextSize = 21.000
    Toggle.TextWrapped = true

    Toggle.MouseEnter:Connect(function()
        title.Text = hoverText or "Hi" .. name
        title:TweenPosition(UDim2.new(0, 0, 0, -25), "Out", "Quad", 0.5, true)
    end)

    Toggle.MouseLeave:Connect(function()
        title.Text = originalTitle
        title:TweenPosition(UDim2.new(0, 0, 0, 0), "Out", "Quad", 0.5, true)
    end)

    Toggle.MouseButton1Click:Connect(function()
        if callback then callback() end
    end)
end

function NoxLib:AddButton(name, hoverText, callback)
    local Button = Instance.new("TextButton")
    Button.Name = name
    Button.Parent = self.TabFrame
    Button.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
    Button.BorderColor3 = Color3.fromRGB(0, 0, 0)
    Button.BorderSizePixel = 0
    Button.Size = UDim2.new(0, 93, 0, 20)
    Button.Font = Enum.Font.SourceSans
    Button.Text = name
    Button.TextColor3 = Color3.fromRGB(255, 255, 255)
    Button.TextScaled = true
    Button.TextSize = 21.000
    Button.TextWrapped = true

    Button.MouseEnter:Connect(function()
        title.Text = hoverText or "Hi" .. name
        title:TweenPosition(UDim2.new(0, 0, 0, -25), "Out", "Quad", 0.5, true)
    end)

    Button.MouseLeave:Connect(function()
        title.Text = originalTitle
        title:TweenPosition(UDim2.new(0, 0, 0, 0), "Out", "Quad", 0.5, true)
    end)

    Button.MouseButton1Click:Connect(function()
        if callback then callback() end
    end)
end

function NoxLib:AddBox(name, placeholder, hoverText, callback)
    local Box = Instance.new("TextBox")
    Box.Name = name
    Box.Parent = self.TabFrame
    Box.BackgroundColor3 = Color3.fromRGB(21, 21, 21)
    Box.BackgroundTransparency = 0.200
    Box.BorderColor3 = Color3.fromRGB(0, 0, 0)
    Box.BorderSizePixel = 0
    Box.Size = UDim2.new(0, 93, 0, 20)
    Box.Font = Enum.Font.SourceSans
    Box.PlaceholderColor3 = Color3.fromRGB(65, 65, 65)
    Box.PlaceholderText = placeholder
    Box.Text = ""
    Box.TextColor3 = Color3.fromRGB(107, 107, 107)
    Box.TextScaled = true
    Box.TextSize = 14.000
    Box.TextWrapped = true

    Box.FocusLost:Connect(function()
        if callback then callback(Box.Text) end
    end)

    Box.MouseEnter:Connect(function()
        title.Text = hoverText or "Hi" .. name
        title:TweenPosition(UDim2.new(0, 0, 0, -25), "Out", "Quad", 0.5, true)
    end)

    Box.MouseLeave:Connect(function()
        title.Text = originalTitle
        title:TweenPosition(UDim2.new(0, 0, 0, 0), "Out", "Quad", 0.5, true)
    end)
end

return NoxLib
